<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="python基础知识(二十九)"><meta name="keywords" content="python"><meta name="author" content="逆の神様"><meta name="copyright" content="逆の神様"><meta name="theme-color" content="#0078E7"><title>python基础知识(二十九) | 逆の神様の小さな駅</title><link rel="shortcut icon" href="/fcg22450.github.io/favicon.png"><link rel="mask-icon" href="/fcg22450.github.io/favicon.png" color="#0078E7"><link rel="preload" href="/fcg22450.github.io/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/fcg22450.github.io/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/fcg22450.github.io/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/fcg22450.github.io/css/hexo-theme-yun.css"><script id="yun-config">
    let Yun = window.Yun || {};
    let CONFIG = {"root":"/fcg22450.github.io/","title":"逆の神様の小さな駅","version":"0.6.3","anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"/fcg22450.github.io/data/sentences.json"},"fireworks":{"colors":["254, 185, 6","223, 47, 47","102, 167, 221","62, 131, 225","33, 78, 194","3, 28, 95","0, 8, 55"]}};
  </script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@700&amp;family=Source+Code+Pro&amp;display=swap" media="none" onload="this.media='all'"><script src="//at.alicdn.com/t/font_1140697_rtqh36oinzl.js" async></script><meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/fcg22450.github.io/css/prism.css" type="text/css"></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/fcg22450.github.io/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle sidebar-toggle-fixed hty-icon-button"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><aside class="sidebar"><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc sidebar-nav-active hty-icon-button" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/fcg22450.github.io/about" title="逆の神様"><img width="96" loading="lazy" src="/fcg22450.github.io/author.jpg" alt="逆の神様"></a><div class="site-author-name"><a href="/fcg22450.github.io/about/">逆の神様</a></div><a class="site-name" href="/fcg22450.github.io/about/site.html">逆の神様の小さな駅</a><sub class="site-subtitle">逆の神様の小さな駅</sub><div class="site-desciption">潦倒不通世务，愚顽怕读文章。</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/fcg22450.github.io/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item site-state-posts"><a href="/fcg22450.github.io/archives" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">161</span></a></div><div class="site-state-item site-state-categories"><a href="/fcg22450.github.io/categories" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">13</span></a></div><div class="site-state-item site-state-tags"><a href="/fcg22450.github.io/tags" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">17</span></a></div><a class="site-state-item hty-icon-button" href="http://fcg22450.gitee.io/new_blog/" target="_blank" rel="noopener" title="随笔"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=1263893578&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/fcg22450" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:fcg0322@gmail.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/6553522553" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="/fcg22450.git/images/wechat.jpg" title="微信" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/317139394" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.now.sh/" title="Travelling" target="_blank" style="color:black"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/fcg22450.github.io/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a><a class="links-item hty-icon-button" href="/fcg22450.github.io/girls/" title="老婆们 ( 嚣张的我~o(*￣▽￣*)ブ~ )" style="color:hotpink"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-women-line"></use></svg></a></div></div><script defer src="/fcg22450.github.io/js/sidebar.js"></script><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#时间有关模块"><span class="toc-number">1.</span> <span class="toc-text">时间有关模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#timeit模块"><span class="toc-number">1.1.</span> <span class="toc-text">timeit模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#time模块"><span class="toc-number">1.2.</span> <span class="toc-text">time模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#格式转换"><span class="toc-number">1.2.1.</span> <span class="toc-text">格式转换</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#时间戳-timestamp"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">时间戳(timestamp)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#格式化时间-Format-String"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">格式化时间(Format String)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#struct-time"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">struct_time</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#当前时间的三种格式"><span class="toc-number">1.2.1.4.</span> <span class="toc-text">当前时间的三种格式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#三种格式的转换"><span class="toc-number">1.2.1.5.</span> <span class="toc-text">三种格式的转换</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#timestamp-⇄-struct-time"><span class="toc-number">1.2.1.5.1.</span> <span class="toc-text">timestamp ⇄ struct_time</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#struct-time-⇄-Format-String"><span class="toc-number">1.2.1.5.2.</span> <span class="toc-text">struct_time ⇄ Format String</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#与标准-a-b-d-H-M-S-Y格式的Format-String之间的转换"><span class="toc-number">1.2.1.5.3.</span> <span class="toc-text">与标准%a %b %d %H:%M:%S %Y格式的Format String之间的转换</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#calendar模块"><span class="toc-number">1.3.</span> <span class="toc-text">calendar模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#datetime模块"><span class="toc-number">1.4.</span> <span class="toc-text">datetime模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#常用类"><span class="toc-number">1.4.1.</span> <span class="toc-text">常用类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#date类"><span class="toc-number">1.4.2.</span> <span class="toc-text">date类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#实例化生成"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">实例化生成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#静态方法生成"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">静态方法生成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#对象属性和方法"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">对象属性和方法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#比较和做差"><span class="toc-number">1.4.2.3.1.</span> <span class="toc-text">比较和做差</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#格式化输出"><span class="toc-number">1.4.2.3.2.</span> <span class="toc-text">格式化输出</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#time类"><span class="toc-number">1.4.3.</span> <span class="toc-text">time类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#实例化生成-1"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">实例化生成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#静态方法生成-1"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">静态方法生成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#对象属性和方法-1"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">对象属性和方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#比较和做差运算"><span class="toc-number">1.4.3.4.</span> <span class="toc-text">比较和做差运算</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#格式化输出-1"><span class="toc-number">1.4.3.5.</span> <span class="toc-text">格式化输出</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#datetime类"><span class="toc-number">1.4.4.</span> <span class="toc-text">datetime类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#实例化生成-2"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">实例化生成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#静态方法生成-2"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">静态方法生成</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#对象属性和方法-2"><span class="toc-number">1.4.4.3.</span> <span class="toc-text">对象属性和方法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#格式化输出-2"><span class="toc-number">1.4.4.3.1.</span> <span class="toc-text">格式化输出</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://github.com/fcg22450/fcg22450.github.io/fcg22450.github.io/2019/09/25/python_foundation/029.html"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="逆の神様"><meta itemprop="description" content="python基础知识(二十九)"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="逆の神様の小さな駅"></span><header class="post-header"><h1 class="post-title" itemprop="name headline" style="color: undefined">python基础知识(二十九)</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <span class="post-meta-icon-text">发表于</span> <time title="创建时间：2019-09-25 00:00:00" itemprop="dateCreated datePublished" datetime="2019-09-25T00:00:00+08:00">2019-09-25</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <span class="post-meta-icon-text">更新于</span> <time title="修改时间：2020-06-01 14:44:55" itemprop="dateModified" datetime="2020-06-01T14:44:55+08:00">2020-06-01</time></div><span class="post-busuanzi"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读次数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg> <span id="busuanzi_value_page_pv"></span></span></span><div class="post-classify"><span class="post-category"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/fcg22450.github.io/categories/online-course/" itemprop="url" rel="index"><span itemprop="text">online_course</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/fcg22450.github.io/tags/python/"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">python</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content post-markdown"><h2 id="时间有关模块"><a href="#时间有关模块" class="headerlink" title="时间有关模块"></a>时间有关模块</h2><h3 id="timeit模块"><a href="#timeit模块" class="headerlink" title="timeit模块"></a>timeit模块</h3><p><a href="https://docs.python.org/zh-cn/3/library/timeit.html" target="_blank" rel="noopener"><code>timeit</code></a>模块提供简单的方法来计算一小段 Python 代码的耗时。简单使用如下</p>
<p><code>timeit.timeit(eval/lambda, number=10000)</code> 运行10000次中的最快用时</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">import</span> timeit
<span class="token keyword">print</span><span class="token punctuation">(</span>timeit<span class="token punctuation">.</span>timeit<span class="token punctuation">(</span><span class="token string">'test()'</span><span class="token punctuation">,</span> globals<span class="token operator">=</span>globals<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<h3 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h3><p><a href="https://docs.python.org/zh-cn/3/library/time.html" target="_blank" rel="noopener"><code>time</code></a>模块提供了各种时间相关的底层函数。最常用方法有：</p>
<ul>
<li><code>time.sleep()</code> 线程睡眠，接收浮点秒数。</li>
<li><code>time.time()</code> 戳一个时间。</li>
</ul>
<h4 id="格式转换"><a href="#格式转换" class="headerlink" title="格式转换"></a>格式转换</h4><p>在Python中，通常有这三种方式来表示时间</p>
<ul>
<li>时间元组(struct_time)</li>
<li>时间戳(timestamp)</li>
<li>格式化时间(Format String)</li>
</ul>
<h5 id="时间戳-timestamp"><a href="#时间戳-timestamp" class="headerlink" title="时间戳(timestamp)"></a>时间戳(timestamp)</h5><p>形如：<code>1588218207.4545252</code></p>
<p>通常来说，时间戳表示的是从1970年1月1日00:00:00开始按秒计算的偏移量。</p>
<p>我们运行<code>time.time()</code>，返回的是当前时间戳，是float类型。</p>
<h5 id="格式化时间-Format-String"><a href="#格式化时间-Format-String" class="headerlink" title="格式化时间(Format String)"></a>格式化时间(Format String)</h5><p>形如：<code>&#39;2017-07-24 13:54:37&#39;</code></p>
<p>运行<code>time.strftime(&quot;%Y-%m-%d %H-%M-%S&quot;)</code>，返回当前格式化时间，参数中它支持以下指令</p>
<table>
<thead>
<tr>
<th align="left">指令</th>
<th align="left">意义</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>%a</code></td>
<td align="left">本地化的缩写星期中每日的名称。</td>
</tr>
<tr>
<td align="left"><code>%A</code></td>
<td align="left">本地化的星期中每日的完整名称。</td>
</tr>
<tr>
<td align="left"><code>%b</code></td>
<td align="left">本地化的月缩写名称。</td>
</tr>
<tr>
<td align="left"><code>%B</code></td>
<td align="left">本地化的月完整名称。</td>
</tr>
<tr>
<td align="left"><code>%c</code></td>
<td align="left">本地化的适当日期和时间表示。</td>
</tr>
<tr>
<td align="left"><code>%d</code></td>
<td align="left">十进制数 [01,31] 表示的月中日。</td>
</tr>
<tr>
<td align="left"><code>%H</code></td>
<td align="left">十进制数 [00,23] 表示的小时（24小时制）。</td>
</tr>
<tr>
<td align="left"><code>%I</code></td>
<td align="left">十进制数 [01,12] 表示的小时（12小时制）。</td>
</tr>
<tr>
<td align="left"><code>%j</code></td>
<td align="left">十进制数 [001,366] 表示的年中日。</td>
</tr>
<tr>
<td align="left"><code>%m</code></td>
<td align="left">十进制数 [01,12] 表示的月。</td>
</tr>
<tr>
<td align="left"><code>%M</code></td>
<td align="left">十进制数 [00,59] 表示的分钟。</td>
</tr>
<tr>
<td align="left"><code>%p</code></td>
<td align="left">本地化的 AM 或 PM 。</td>
</tr>
<tr>
<td align="left"><code>%S</code></td>
<td align="left">十进制数 [00,61] 表示的秒。</td>
</tr>
<tr>
<td align="left"><code>%U</code></td>
<td align="left">十进制数 [00,53] 表示的一年中的周数（星期日作为一周的第一天）。在第一个星期日之前的新年中的所有日子都被认为是在第0周。</td>
</tr>
<tr>
<td align="left"><code>%w</code></td>
<td align="left">十进制数 [0(<strong>星期日</strong>),6] 表示的周中日。</td>
</tr>
<tr>
<td align="left"><code>%W</code></td>
<td align="left">十进制数 [00,53] 表示的一年中的周数（星期一作为一周的第一天）。在第一个星期一之前的新年中的所有日子被认为是在第0周。</td>
</tr>
<tr>
<td align="left"><code>%x</code></td>
<td align="left">本地化的适当日期表示。</td>
</tr>
<tr>
<td align="left"><code>%X</code></td>
<td align="left">本地化的适当时间表示。</td>
</tr>
<tr>
<td align="left"><code>%y</code></td>
<td align="left">十进制数 [00,99] 表示的没有世纪的年份。</td>
</tr>
<tr>
<td align="left"><code>%Y</code></td>
<td align="left">十进制数表示的带世纪的年份。</td>
</tr>
<tr>
<td align="left"><code>%z</code></td>
<td align="left">时区偏移以格式 +HHMM 或 -HHMM 形式的 UTC/GMT 的正或负时差指示，其中H表示十进制小时数字，M表示小数分钟数字 [-23:59, +23:59] 。</td>
</tr>
<tr>
<td align="left"><code>%Z</code></td>
<td align="left">时区名称（如果不存在时区，则不包含字符）。</td>
</tr>
<tr>
<td align="left"><code>%%</code></td>
<td align="left">字面的 <code>&#39;%&#39;</code> 字符。</td>
</tr>
</tbody></table>
<h5 id="struct-time"><a href="#struct-time" class="headerlink" title="struct_time"></a>struct_time</h5><p>struct_time元组共有9个元素共九个元素:(年，月，日，时，分，秒，一年中第几周，一年中第几天等）</p>
<table>
<thead>
<tr>
<th>索引（Index）</th>
<th>属性（Attribute）</th>
<th>值（Values）</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>tm_zone</td>
<td>时区名称的缩写</td>
</tr>
<tr>
<td>.</td>
<td>tm_gmtoff</td>
<td>以秒为单位的UTC以东偏离</td>
</tr>
<tr>
<td>0</td>
<td>tm_year（年）</td>
<td>比如2011</td>
</tr>
<tr>
<td>1</td>
<td>tm_mon（月）</td>
<td>1 - 12</td>
</tr>
<tr>
<td>2</td>
<td>tm_mday（日）</td>
<td>1 - 31</td>
</tr>
<tr>
<td>3</td>
<td>tm_hour（时）</td>
<td>0 - 23</td>
</tr>
<tr>
<td>4</td>
<td>tm_min（分）</td>
<td>0 - 59</td>
</tr>
<tr>
<td>5</td>
<td>tm_sec（秒）</td>
<td>0 - 61</td>
</tr>
<tr>
<td>6</td>
<td>tm_wday（星期几）</td>
<td>0 - 6 (星期一是0依次)</td>
</tr>
<tr>
<td>7</td>
<td>tm_yday（一年中的第几天）</td>
<td>1 - 366</td>
</tr>
<tr>
<td>8</td>
<td>tm_isdst（是否是夏令时）</td>
<td>默认为0</td>
</tr>
</tbody></table>
<h5 id="当前时间的三种格式"><a href="#当前时间的三种格式" class="headerlink" title="当前时间的三种格式"></a>当前时间的三种格式</h5><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#导入时间模块</span>
<span class="token operator">>></span><span class="token operator">></span><span class="token keyword">import</span> time

<span class="token comment" spellcheck="true">#时间戳</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">1500875844.800804</span>

<span class="token comment" spellcheck="true">#时间字符串</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %X"</span><span class="token punctuation">)</span>
<span class="token string">'2017-07-24 13:54:37'</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H-%M-%S"</span><span class="token punctuation">)</span>
<span class="token string">'2017-07-24 13-55-04'</span>

<span class="token comment" spellcheck="true">#时间元组</span>
<span class="token comment" spellcheck="true">#localtime将一个时间戳转换为当前时区的struct_time</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">24</span><span class="token punctuation">,</span>
　　　　　　　　　　tm_hour<span class="token operator">=</span><span class="token number">13</span><span class="token punctuation">,</span> tm_min<span class="token operator">=</span><span class="token number">59</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">37</span><span class="token punctuation">,</span> 
                 tm_wday<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">205</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<h5 id="三种格式的转换"><a href="#三种格式的转换" class="headerlink" title="三种格式的转换"></a>三种格式的转换</h5><p><img src="/fcg22450.github.io/img/python_img/%E6%97%B6%E9%97%B4%E6%A8%A1%E5%9D%97.jpg" alt="" loading="lazy"></p>
<h6 id="timestamp-⇄-struct-time"><a href="#timestamp-⇄-struct-time" class="headerlink" title="timestamp ⇄ struct_time"></a>timestamp ⇄ struct_time</h6><ul>
<li><code>time.gmtime(timestamp) -&gt; struct_time</code></li>
<li><code>time.localtime(timestamp) -&gt; struct_time</code></li>
<li><code>time.mktime(struct_time) -&gt; timestamp</code></li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#UTC时间。与英国伦敦当地时间一致</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>gmtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> tm_hour<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
                 tm_min<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_wday<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">195</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">#当地时间。北京与UTC时间相差+8小时</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> tm_hour<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>
                 tm_min<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_wday<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">195</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#与time.localtime相反效果</span>
<span class="token operator">>></span><span class="token operator">></span>time_tuple <span class="token operator">=</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>mktime<span class="token punctuation">(</span>time_tuple<span class="token punctuation">)</span>
<span class="token number">1500000000.0</span></code></pre>
<h6 id="struct-time-⇄-Format-String"><a href="#struct-time-⇄-Format-String" class="headerlink" title="struct_time ⇄ Format String"></a>struct_time ⇄ Format String</h6><ul>
<li><code>time.strftime(模板字符串, struct_time=当前) -&gt; FormatString</code></li>
<li><code>time.strptime(FormatString, 模板字符串) -&gt; struct_time</code></li>
</ul>
<p>值得注意的是，在Python3.8之前，时间的模板字符串里不支持非Ascii字符。</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#结构化时间参数若不传，则显示当前时间</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %X"</span><span class="token punctuation">)</span>
<span class="token string">'2017-07-24 14:55:36'</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d"</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token string">'2017-07-14'</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">"2017-03-16"</span><span class="token punctuation">,</span><span class="token string">"%Y-%m-%d"</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span> tm_hour<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
                 tm_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_wday<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">75</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">"07/24/2017"</span><span class="token punctuation">,</span><span class="token string">"%m/%d/%Y"</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">24</span><span class="token punctuation">,</span> tm_hour<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>
                 tm_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_wday<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">205</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre>
<h6 id="与标准-a-b-d-H-M-S-Y格式的Format-String之间的转换"><a href="#与标准-a-b-d-H-M-S-Y格式的Format-String之间的转换" class="headerlink" title="与标准%a %b %d %H:%M:%S %Y格式的Format String之间的转换"></a>与标准<code>%a %b %d %H:%M:%S %Y</code>格式的Format String之间的转换</h6><ul>
<li><code>time.asctime(struct_time) → Format %a %b %d %H:%M:%S %Y String</code></li>
<li><code>time.ctime(timestamp) → Format %a %b %d %H:%M:%S %Y String</code></li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#如果不传参数，直接返回当前时间的格式化串</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>asctime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token string">'Fri Jul 14 10:40:00 2017'</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>asctime<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Mon Jul 24 15:18:33 2017'</span>

<span class="token comment" spellcheck="true">#如果不传参数，直接返回当前时间的格式化串</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Mon Jul 24 15:19:07 2017'</span>
<span class="token operator">>></span><span class="token operator">></span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span>
<span class="token string">'Fri Jul 14 10:40:00 2017'</span> </code></pre>
<h3 id="calendar模块"><a href="#calendar模块" class="headerlink" title="calendar模块"></a>calendar模块</h3><p><a href="https://docs.python.org/zh-cn/3/library/calendar.html" target="_blank" rel="noopener"><code>calendar</code></a>模块提供了日历相关的函数，和格式化输出日历。</p>
<p>常量</p>
<ul>
<li><code>.MONDAY</code> = 0</li>
<li><code>.TUESDAY</code> = 1</li>
<li><code>.WEDNESDAY</code> = 2</li>
<li><code>.THURSDAY</code> = 3</li>
<li><code>.FRIDAY</code> = 4</li>
<li><code>SATURDAY</code> = 5</li>
<li><code>.SUNDAY</code> = 6</li>
</ul>
<p>常用函数</p>
<ul>
<li><code>.isleap</code>(<em>year</em>) 是否是闰年</li>
<li><code>.weekday</code>(<em>year</em>, <em>month</em>, <em>day</em>) 是星期几（星期一是0依次）</li>
<li><code>.weekheader</code>(<em>n</em>) 得到星期几的缩写头，n是字符宽度</li>
<li><code>.monthrange</code>(<em>year</em>, <em>month</em>) 得到一个月第一天是星期几和这个月的天数</li>
<li><code>.timegm</code>(struct_time) 与<code>time.gmtime()</code>相反效果</li>
</ul>
<p>常用类</p>
<ul>
<li><code>.TextCalendar</code>(<em>firstweekday=0</em>) 简单文本日历</li>
<li><code>.HTMLCalendar</code>(<em>firstweekday=0</em>) 超文本日历</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> calendar

<span class="token comment" spellcheck="true"># 如果需要星期日在第一位 需要设置firstweekday=6或者SUNDAY</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span>TextCalendar<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span>formatmonth<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     April <span class="token number">2020</span>
Su Mo Tu We Th Fr Sa
          <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>
 <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span>
<span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span>
<span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span>
<span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span>

<span class="token comment" spellcheck="true">#本地化  前缀Locale-</span>
<span class="token comment" spellcheck="true">#“ja-JP” 日语</span>
<span class="token comment" spellcheck="true">#"fr-FR" 法语</span>
<span class="token comment" spellcheck="true">#“zh-CN” 国语</span>
<span class="token comment" spellcheck="true">#'en-US' 嘤语</span>
<span class="token operator">>></span><span class="token operator">></span> frc <span class="token operator">=</span> calendar<span class="token punctuation">.</span>LocaleTextCalendar<span class="token punctuation">(</span>locale<span class="token operator">=</span><span class="token string">"fr-FR"</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span>  <span class="token keyword">print</span><span class="token punctuation">(</span>frc<span class="token punctuation">.</span>formatmonth<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     avril <span class="token number">2020</span>
lu ma me je ve sa di
       <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>
 <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span>
<span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span>
<span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span>
<span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span></code></pre>
<p>注意：</p>
<ul>
<li>本质调用<code>locale.setlocale()</code>，使用后会一直生效，且非线程安全。</li>
<li>由于等宽字体的限制，不推荐使用非字母的本地语言。</li>
<li>非字母的本地语言如果要使用，还需要调整<code>formatmonth</code>的<code>w</code>参数大于2</li>
<li>如果出现乱码，可以尝试以下：<ul>
<li>重编码（推荐）</li>
<li>改连接符为下划线再加字符集，如<code>ja_JP.UTF-8</code><br>（可能需要捕获第一次setlocale的异常，且python3.8以下可能依然乱码）</li>
</ul>
</li>
</ul>
<h3 id="datetime模块"><a href="#datetime模块" class="headerlink" title="datetime模块"></a>datetime模块</h3><p><a href="https://docs.python.org/zh-cn/3/library/datetime.html" target="_blank" rel="noopener"><code>datetime</code></a>模块提供用于处理日期和时间的类。</p>
<p>时间对象分为感知型和简单型，感知型相比简单型多了时区，夏令时等信息。</p>
<h4 id="常用类"><a href="#常用类" class="headerlink" title="常用类"></a>常用类</h4><table>
<thead>
<tr>
<th align="center">类名</th>
<th align="center">功能说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">timedelta</td>
<td align="center">时间间隔类</td>
</tr>
<tr>
<td align="center">tzinfo</td>
<td align="center">感知型信息抽象类</td>
</tr>
<tr>
<td align="center">timezone</td>
<td align="center">tzinfo类的子类，时区信息类</td>
</tr>
<tr>
<td align="center">date</td>
<td align="center">简单型日期类</td>
</tr>
<tr>
<td align="center">time</td>
<td align="center">时间类</td>
</tr>
<tr>
<td align="center">datetime</td>
<td align="center">date类的子类，日期时间类</td>
</tr>
</tbody></table>
<p>实例化timedelta 时间间隔类</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> datetime
<span class="token operator">>></span><span class="token operator">></span> jp_offset <span class="token operator">=</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span></code></pre>
<p>实例化timezone 时区信息类</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> JST <span class="token operator">=</span> datetime<span class="token punctuation">.</span>timezone<span class="token punctuation">(</span>jp_offset<span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">'Tokyo'</span><span class="token punctuation">)</span></code></pre>
<p>夏时制不深入讨论，需要实现抽象基类tzinfo上的<code>.dst()</code>方法，timezone类并未将其实现。</p>
<h4 id="date类"><a href="#date类" class="headerlink" title="date类"></a>date类</h4><p>代表一个理想化历法中的日期（年、月和日），即当今的格列高利历向前后两个方向无限延伸</p>
<p>它是一个不可变类型（hashable）</p>
<h5 id="实例化生成"><a href="#实例化生成" class="headerlink" title="实例化生成"></a>实例化生成</h5><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> datetime
a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span></code></pre>
<h5 id="静态方法生成"><a href="#静态方法生成" class="headerlink" title="静态方法生成"></a>静态方法生成</h5><ul>
<li><code>datetime.date.today</code>() 返回本地日期date对象</li>
<li><code>date.fromisoformat</code>(<em>date_string</em>) 格式化字符串→本地日期date对象，只支持<code>YYYY-MM-DD</code></li>
<li><code>date.fromtimestamp</code>(<em>timestamp</em>) 时间戳→本地日期date对象</li>
</ul>
<h5 id="对象属性和方法"><a href="#对象属性和方法" class="headerlink" title="对象属性和方法"></a>对象属性和方法</h5><ul>
<li><code>.year</code>, <code>.month</code>, <code>.day</code> 数据描述符（只读）</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> b
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> b<span class="token punctuation">.</span>year
<span class="token number">2017</span>
<span class="token operator">>></span><span class="token operator">></span> b<span class="token punctuation">.</span>month
<span class="token number">3</span>
<span class="token operator">>></span><span class="token operator">></span> b<span class="token punctuation">.</span>day
<span class="token number">22</span> </code></pre>
<ul>
<li><code>.replace()</code> 替换数据描述符的属性值</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>day<span class="token operator">=</span><span class="token number">26</span><span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span></code></pre>
<ul>
<li><code>.timetuple()</code> 转struct_time元组，补0</li>
<li><code>.weekday()</code> 星期几 星期一为0依次</li>
<li><code>.isoweekday()</code> 星期几 没有0，星期一为1依次</li>
<li><code>.isocalendar()</code> 返回元组<code>(年, 周，星期)</code> 星期规则同<code>.isoweekday()</code></li>
</ul>
<h6 id="比较和做差"><a href="#比较和做差" class="headerlink" title="比较和做差"></a>比较和做差</h6><p>由于实现了诸多魔术方法，两个date对象之间可以比较和做差</p>
<p>做差将返回datetime.timedelta对象</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">&lt;</span> a
<span class="token boolean">False</span>
<span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">-</span> a
datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">(</span>b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">.</span>days
<span class="token number">7</span></code></pre>
<h6 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h6><ul>
<li><code>.strftime(模板字符串)</code> 格式化方法</li>
<li><code>.isoformat()</code> 返回符合ISO 8601标准 (<code>YYYY-MM-DD</code>) 的日期字符串</li>
<li>魔术方法<code>__str__()</code>和<code>.__format__()</code> 可以使用格式化的一切方法。</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> b<span class="token punctuation">.</span>__format__<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span>
<span class="token string">'2017-03-22'</span>
<span class="token operator">>></span><span class="token operator">></span> b<span class="token punctuation">.</span>isoformat<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'2017-03-22'</span>
<span class="token operator">>></span><span class="token operator">></span> b<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%y'</span><span class="token punctuation">)</span>
<span class="token string">'17'</span>
<span class="token operator">>></span><span class="token operator">></span> format<span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token string">'%D'</span><span class="token punctuation">)</span>
<span class="token string">'03/22/17'</span>
<span class="token operator">>></span><span class="token operator">></span> str<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token string">'2017-03-22'</span></code></pre>
<h4 id="time类"><a href="#time类" class="headerlink" title="time类"></a>time类</h4><p>一个 time对象代表某日的（本地）时间，它独立于任何特定日期，并可通过 tzinfo对象来调整。</p>
<h5 id="实例化生成-1"><a href="#实例化生成-1" class="headerlink" title="实例化生成"></a>实例化生成</h5><p><code>datetime.time</code>(<em>hour=0</em>, <em>minute=0</em>, <em>second=0</em>, <em>microsecond=0</em>, <em>tzinfo=None</em>)</p>
<h5 id="静态方法生成-1"><a href="#静态方法生成-1" class="headerlink" title="静态方法生成"></a>静态方法生成</h5><p><code>.fromisoformat</code>(<em>time_string</em>) .isoformat的逆操作</p>
<h5 id="对象属性和方法-1"><a href="#对象属性和方法-1" class="headerlink" title="对象属性和方法"></a>对象属性和方法</h5><p>和date对象一样，实例化时的参数将成为实例对象的数据描述符（只读）</p>
<p><code>.replace()</code> 替换数据描述符的属性值</p>
<h5 id="比较和做差运算"><a href="#比较和做差运算" class="headerlink" title="比较和做差运算"></a>比较和做差运算</h5><p>time对象不能做差，比较的时候要求tzinfo属性一致。</p>
<h5 id="格式化输出-1"><a href="#格式化输出-1" class="headerlink" title="格式化输出"></a>格式化输出</h5><ul>
<li><p><code>.strftime(模板字符串)</code> 格式化方法</p>
</li>
<li><p><code>.isoformat</code>(<em>timespec=’auto’</em>) 返回符合ISO 8601标准 (<code>HH:MM:SS.ffffff</code>) 的时间字符串</p>
<p>默认的<code>auto</code>会在<code>.ffffff</code>为<code>.000000</code>的时候不显示，即整秒时为<code>HH:MM:SS</code></p>
<p>可设置的其他值：</p>
<ul>
<li><code>&#39;hours&#39;</code>: 以两个数码的 <code>HH</code> 格式</li>
<li><code>&#39;minutes&#39;</code>: 以 <code>HH:MM</code> 格式</li>
<li><code>&#39;seconds&#39;</code>: 以 <code>HH:MM:SS</code> 格式</li>
<li><code>&#39;milliseconds&#39;</code>: 包含完整时间，但将秒值截断至微秒。 格式为 <code>HH:MM:SS.sss</code></li>
<li><code>&#39;microseconds&#39;</code>: 以 <code>HH:MM:SS.ffffff</code> 格式包含完整时间。</li>
</ul>
</li>
<li><p>魔术方法<code>__str__()</code>, <code>__format__()</code></p>
</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> offset <span class="token operator">=</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> shanghai_timez <span class="token operator">=</span> datetime<span class="token punctuation">.</span>timezone<span class="token punctuation">(</span>offset<span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">'Shanghai'</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> bonjour <span class="token operator">=</span> datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>tzinfo<span class="token operator">=</span>shanghai_timez<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> bonjour<span class="token punctuation">.</span>isoformat<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'07:30:00+08:00'</span>
<span class="token operator">>></span><span class="token operator">></span> bonjour<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%H:%M:%S %Z"</span><span class="token punctuation">)</span>
<span class="token string">'07:30:00 Shanghai'</span>
<span class="token operator">>></span><span class="token operator">></span> format<span class="token punctuation">(</span>bonjour<span class="token punctuation">,</span><span class="token string">'%z'</span><span class="token punctuation">)</span>
<span class="token string">'+0800'</span></code></pre>
<h4 id="datetime类"><a href="#datetime类" class="headerlink" title="datetime类"></a>datetime类</h4><p>datetime类可以看做是date类和time类的合体</p>
<p>由于是继承的date类，这里<strong>只介绍派生的方法</strong>。</p>
<h5 id="实例化生成-2"><a href="#实例化生成-2" class="headerlink" title="实例化生成"></a>实例化生成</h5><pre><code>datetime.datetime(year, month, day, hour, minute, second, microsecond,tzinfo)</code></pre><h5 id="静态方法生成-2"><a href="#静态方法生成-2" class="headerlink" title="静态方法生成"></a>静态方法生成</h5><ul>
<li><code>datetime.now</code>(<em>tz=None</em>) 当前的datetime对象，可传入时区，默认系统时区</li>
<li><code>datetime.utcnow</code>() 生成简单型datetime对象，消除时区信息</li>
<li><code>datetime.utcfromtimestamp</code>(<em>timestamp</em>) 由<em>timestamp</em>生成datetime对象，消除时区信息</li>
<li><code>datetime.combine</code>(<em>date</em>, <em>time</em>[, <em>tzinfo</em>]) 由date对象和time对象生成</li>
<li><code>datetime.strptime</code>(<em>date_string</em>, <em>format</em>) 由date_string生成datetime对象</li>
</ul>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">'2017-3-22 15:25'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%M'</span><span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span></code></pre>
<h5 id="对象属性和方法-2"><a href="#对象属性和方法-2" class="headerlink" title="对象属性和方法"></a>对象属性和方法</h5><ul>
<li><code>.date()</code> 拆解出date对象</li>
<li><code>.time()</code> 拆解出time对象</li>
<li><code>.timestamp()</code> 6位浮点的时间戳</li>
<li><code>.utctimetuple()</code> 返回消除时区信息的struct_time</li>
</ul>
<h6 id="格式化输出-2"><a href="#格式化输出-2" class="headerlink" title="格式化输出"></a>格式化输出</h6><p><code>.isoformat</code>(<em>sep=’T’, timespec=’auto’</em>) 同date类的同名方法，sep是日期和时间之间的分隔符。</p>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">我很可爱，请给我钱</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/images/alipay.png"><img loading="lazy" src="/fcg22450.github.io/images/alipay.png" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/qqpay.png"><img loading="lazy" src="/fcg22450.github.io/images/qqpay.png" alt="QQ 支付" title="QQ 支付"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/weixin.png"><img loading="lazy" src="/fcg22450.github.io/images/weixin.png" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>逆の神様</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://github.com/fcg22450/fcg22450.github.io/2019/09/25/python_foundation/029.html" title="python基础知识(二十九)">https://github.com/fcg22450/fcg22450.github.io/2019/09/25/python_foundation/029.html</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/fcg22450.github.io/2019/09/25/python_foundation/028.html" rel="prev" title="python基础知识(二十八)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">python基础知识(二十八)</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/fcg22450.github.io/2019/09/22/python_foundation/027.html" rel="next" title="python基础知识(二十七)"><span class="post-nav-text">python基础知识(二十七)</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>若您无 GitHub 账号，可直接在下方匿名评论。</span><br><span>若您想及时得到回复提醒，建议跳转 GitHub Issues 评论。</span><br><span>若没有本文 Issue，您可以使用 Comment 模版新建。</span><br><a class="hty-button hty-button--raised" id="github-issues" href="https://github.com/fcg22450/fcg22450.github.io/issues?q=is:issue+python基础知识(二十九)">GitHub Issues</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2018 – 2020 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 逆の神様</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v4.2.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v0.6.3</span></div><div class="live_time"><span>本博客已萌萌哒地运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  window.setTimeout(blog_live_time, 1000);
  const start = new Date('2018-09-12T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div><div id="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv" title="总访客量"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-user-line"></use></svg></span><span id="busuanzi_value_site_uv"></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv" title="总访问量"><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-eye-line"></use></svg></span><span id="busuanzi_value_site_pv"></span></span></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div><script defer src="/fcg22450.github.io/js/hexo-theme-yun.js"></script><script src="/fcg22450.github.io/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>